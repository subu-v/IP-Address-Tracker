{"version":3,"sources":["script.js"],"names":["button","document","querySelector","searchInput","ipField","locationField","timezoneField","ispField","map","getUserIpAddress","fetch","fetchIP","json","userIP","renderMap","ip","renderData","data","location","city","region","postalCode","timezone","isp","textContent","renderMarker","lat","lng","locationIcon","L","icon","iconUrl","require","iconSize","marker","addTo","createMap","zoomControl","setView","tileLayer","maxZoom","fetchUserInfo","retrievedData","addEventListener","e","remove","value"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\src","sourcesContent":["\"use strict\";\r\n\r\nconst button = document.querySelector(\".tracker__search--button\");\r\nconst searchInput = document.querySelector(\".tracker__search--input\");\r\nconst ipField = document.querySelector(\".tracker__data--ip\");\r\nconst locationField = document.querySelector(\".tracker__data--location\");\r\nconst timezoneField = document.querySelector(\".tracker__data--timezone\");\r\nconst ispField = document.querySelector(\".tracker__data--isp\");\r\nlet map;\r\n\r\nconst getUserIpAddress = (async function () {\r\n  const fetchIP = await fetch(\"https://api.ipify.org/?format=json\");\r\n  const userIP = await fetchIP.json();\r\n  renderMap(userIP.ip);\r\n})();\r\n\r\nconst renderData = function (data) {\r\n  const {\r\n    ip,\r\n    location: { city, region, postalCode, timezone },\r\n    isp,\r\n  } = data;\r\n  ipField.textContent = ip;\r\n  locationField.textContent = `${city}, ${region} ${postalCode}`;\r\n  timezoneField.textContent = `UTC ${timezone}`;\r\n  ispField.textContent = isp;\r\n};\r\n\r\nconst renderMarker = function (lat, lng) {\r\n  const locationIcon = L.icon({\r\n    iconUrl: require(\"../images/icon-location.svg\"),\r\n    iconSize: [36, 48],\r\n  });\r\n\r\n  L.marker([lat, lng], {\r\n    icon: locationIcon,\r\n  }).addTo(map);\r\n};\r\n\r\nconst createMap = function (lat, lng) {\r\n  map = L.map(\"map\", { zoomControl: false }).setView([lat, lng], 13);\r\n\r\n  L.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\r\n    maxZoom: 19,\r\n  }).addTo(map);\r\n};\r\n\r\nconst renderMap = async function (ip) {\r\n  const fetchUserInfo = await fetch(\r\n    `https://geo.ipify.org/api/v2/country,city?apiKey=at_VpIUevGOjDKfNMddcE6asZ7G4HBX5&ipAddress=${ip}`\r\n  );\r\n  const retrievedData = await fetchUserInfo.json();\r\n  renderData(retrievedData);\r\n\r\n  const {\r\n    location: { lat, lng },\r\n  } = retrievedData;\r\n\r\n  createMap(lat, lng);\r\n  renderMarker(lat, lng);\r\n};\r\n\r\nbutton.addEventListener(\"click\", function (e) {\r\n  map.remove();\r\n  renderMap(searchInput.value);\r\n});\r\n"]}